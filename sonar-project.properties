# SonarCloud Configuration
# Performance optimized - only scans Swift source code
sonar.projectKey=lekman_magsafe-buskill
sonar.organization=lekman

# Project Information
sonar.projectName=MagSafe Guard
sonar.projectVersion=1.0
sonar.sourceEncoding=UTF-8

# Source and Test Directories
# Only scan Swift source code to improve performance
sonar.sources=MagSafeGuard,MagSafeGuardLib/Sources
sonar.tests=MagSafeGuardTests,MagSafeGuardLib/Tests

# Swift Configuration
sonar.swift.file.suffixes=.swift

# Code Coverage Configuration
# Based on TEST_REFACTORING_PLAN_V2.md - Focus on Business Logic Testing
sonar.coverageReportPaths=coverage.xml

# Coverage Targets (as defined in TEST_REFACTORING_PLAN_V2.md):
# - Domain Use Cases: 95-100% (business logic)
# - Data Models: 100%
# - Integration: 80-90%
# - Overall project: 80%+

# Source Exclusions
# Exclude build artifacts, documentation, and infrastructure
sonar.exclusions=.build/**,DerivedData/**,**/*.xcodeproj/**,**/*.md,**/.*,**/*.yml,**/*.yaml,**/*.json,**/Package.swift,docs/**,tasks/**,scripts/**,Resources/**,coverage*,sbom*,*.txt,pr.*.md,build-wrapper-dump.json,.githooks/**,.github/**,logs/**,.claude/**,.git/**,.scannerwork/**,.sonarcloud/**,.task/**,.taskmaster/**,.vscode/**,MagSafeGuard.xcodeproj/**,backup/**

# Coverage Exclusions (Clean Architecture Focus)
# Following TEST_REFACTORING_PLAN_V2.md - exclude system integration, UI, and test infrastructure
sonar.coverage.exclusions=\
# Test Infrastructure (not covered by design)\
MagSafeGuardTests/**,\
MagSafeGuardUITests/**,\
MagSafeGuardLib/Tests/**,\
**/Tests/**,\
**/TestInfrastructure/**,\
**/Mock*.swift,\
**/Mocks/**,\
**/Builders/**,\
**/Fixtures/**,\
**/Assertions/**,\
# System Integration Layer (excluded per plan)\
MagSafeGuard/Services/MacSystemActions.swift,\
MagSafeGuard/Services/IOKit*.swift,\
MagSafeGuard/Services/CoreLocation*.swift,\
MagSafeGuard/Services/Network*.swift,\
MagSafeGuard/Data/Repositories/*Repository.swift,\
# SwiftUI Views (excluded per plan)\
MagSafeGuard/Views/**,\
MagSafeGuard/Assets.xcassets/**,\
# Bootstrap Code (excluded per plan)\
MagSafeGuard/AppDelegate.swift,\
MagSafeGuard/AppDelegateCore.swift,\
MagSafeGuard/MagSafeGuardApp.swift,\
# Legacy Controllers (being refactored)\
MagSafeGuard/Controllers/**,\
# Infrastructure\
.githooks/**,\
.github/**,\
docs/**,\
scripts/**,\
logs/**,\
.claude/**,\
.git/**,\
.scannerwork/**,\
.sonarcloud/**,\
.task/**,\
.taskmaster/**,\
.vscode/**,\
DerivedData/**,\
MagSafeGuard.xcodeproj/**,\
tasks/**,\
backup/**

# Duplication Detection
sonar.cpd.exclusions=**/*Tests.swift,**/Mock*.swift

# Quality Gate
sonar.qualitygate.wait=true