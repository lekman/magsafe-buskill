# SonarCloud Configuration
# Performance optimized - only scans Swift source code
sonar.projectKey=lekman_magsafe-buskill
sonar.organization=lekman

# Project Information
sonar.projectName=MagSafe Guard
sonar.projectVersion=1.0
sonar.sourceEncoding=UTF-8

# Source and Test Directories
# Only scan MagSafeGuardLib (SPM package) - Xcode-specific code cannot be covered in CI
sonar.sources=MagSafeGuardLib/Sources
sonar.tests=MagSafeGuardLib/Tests

# Swift Configuration
sonar.swift.file.suffixes=.swift

# Code Coverage Configuration
# Based on TEST_REFACTORING_PLAN_V2.md - Focus on Business Logic Testing
sonar.coverageReportPaths=coverage.xml

# Coverage Targets (as defined in TEST_REFACTORING_PLAN_V2.md):
# - Domain Use Cases: 95-100% (business logic)
# - Data Models: 100%
# - Integration: 80-90%
# - Overall project: 80%+

# Source Exclusions
# Exclude build artifacts, documentation, infrastructure, and Xcode-specific code
sonar.exclusions=MagSafeGuard/**,MagSafeGuardTests/**,MagSafeGuardUITests/**,.build/**,DerivedData/**,**/*.xcodeproj/**,**/*.md,**/.*,**/*.yml,**/*.yaml,**/*.json,**/Package.swift,docs/**,tasks/**,scripts/**,Resources/**,coverage*,sbom*,*.txt,pr.*.md,build-wrapper-dump.json,.githooks/**,.github/**,logs/**,.claude/**,.git/**,.scannerwork/**,.sonarcloud/**,.task/**,.taskmaster/**,.vscode/**,MagSafeGuard.xcodeproj/**,backup/**

# Coverage Exclusions (Clean Architecture Focus)
# Following TEST_REFACTORING_PLAN_V2.md - exclude system integration, UI, and test infrastructure
# NOTE: Only MagSafeGuardLib is analyzed - Xcode-specific code is not covered
sonar.coverage.exclusions=\
MagSafeGuardLib/Tests/**,\
MagSafeGuardLib/Sources/**/Tests/**,\
MagSafeGuardLib/Sources/**/TestInfrastructure/**,\
MagSafeGuardLib/Sources/**/Mock*.swift,\
MagSafeGuardLib/Sources/**/Mocks/**,\
MagSafeGuardLib/Sources/MagSafeGuardInfrastructure/**

# Duplication Detection
sonar.cpd.exclusions=**/*Tests.swift,**/Mock*.swift

# Quality Gate
sonar.qualitygate.wait=true